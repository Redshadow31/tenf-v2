{
  "id": "d4d512db-5adf-470c-a512-be1edcef0120",
  "prevId": "a7bf06c2-e8be-464e-a13a-8cdd4e6a8a89",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.evaluations": {
      "name": "evaluations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "month": {
          "name": "month",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "twitch_login": {
          "name": "twitch_login",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "section_a_points": {
          "name": "section_a_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "spotlight_evaluations": {
          "name": "spotlight_evaluations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "event_evaluations": {
          "name": "event_evaluations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "raid_points": {
          "name": "raid_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "spotlight_bonus": {
          "name": "spotlight_bonus",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "section_b_points": {
          "name": "section_b_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "discord_engagement": {
          "name": "discord_engagement",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "section_c_points": {
          "name": "section_c_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "follow_validations": {
          "name": "follow_validations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "section_d_bonuses": {
          "name": "section_d_bonuses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "bonuses": {
          "name": "bonuses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "total_points": {
          "name": "total_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "calculated_by": {
          "name": "calculated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.event_registrations": {
      "name": "event_registrations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "event_id": {
          "name": "event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "twitch_login": {
          "name": "twitch_login",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discord_id": {
          "name": "discord_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discord_username": {
          "name": "discord_username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "registered_at": {
          "name": "registered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "event_registrations_event_id_events_id_fk": {
          "name": "event_registrations_event_id_events_id_fk",
          "tableFrom": "event_registrations",
          "tableTo": "events",
          "columnsFrom": [
            "event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.events": {
      "name": "events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "event_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "invited_members": {
          "name": "invited_members",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "is_published": {
          "name": "is_published",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.logs": {
      "name": "logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.members": {
      "name": "members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "twitch_login": {
          "name": "twitch_login",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "twitch_id": {
          "name": "twitch_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "twitch_url": {
          "name": "twitch_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discord_id": {
          "name": "discord_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discord_username": {
          "name": "discord_username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "site_username": {
          "name": "site_username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "member_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Affilié'"
        },
        "is_vip": {
          "name": "is_vip",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "badges": {
          "name": "badges",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "list_id": {
          "name": "list_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "role_manually_set": {
          "name": "role_manually_set",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "twitch_status": {
          "name": "twitch_status",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_bio": {
          "name": "custom_bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "integration_date": {
          "name": "integration_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "role_history": {
          "name": "role_history",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "parrain": {
          "name": "parrain",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "members_twitch_login_unique": {
          "name": "members_twitch_login_unique",
          "nullsNotDistinct": false,
          "columns": [
            "twitch_login"
          ]
        },
        "members_discord_id_unique": {
          "name": "members_discord_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "discord_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.spotlight_evaluations": {
      "name": "spotlight_evaluations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "spotlight_id": {
          "name": "spotlight_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "streamer_twitch_login": {
          "name": "streamer_twitch_login",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "criteria": {
          "name": "criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "total_score": {
          "name": "total_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "max_score": {
          "name": "max_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "moderator_comments": {
          "name": "moderator_comments",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "evaluated_at": {
          "name": "evaluated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "evaluated_by": {
          "name": "evaluated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "validated": {
          "name": "validated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "validated_at": {
          "name": "validated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "spotlight_evaluations_spotlight_id_spotlights_id_fk": {
          "name": "spotlight_evaluations_spotlight_id_spotlights_id_fk",
          "tableFrom": "spotlight_evaluations",
          "tableTo": "spotlights",
          "columnsFrom": [
            "spotlight_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.spotlight_presences": {
      "name": "spotlight_presences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "spotlight_id": {
          "name": "spotlight_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "twitch_login": {
          "name": "twitch_login",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "added_by": {
          "name": "added_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "spotlight_presences_spotlight_id_spotlights_id_fk": {
          "name": "spotlight_presences_spotlight_id_spotlights_id_fk",
          "tableFrom": "spotlight_presences",
          "tableTo": "spotlights",
          "columnsFrom": [
            "spotlight_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.spotlights": {
      "name": "spotlights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "streamer_twitch_login": {
          "name": "streamer_twitch_login",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "streamer_display_name": {
          "name": "streamer_display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "spotlight_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "moderator_discord_id": {
          "name": "moderator_discord_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "moderator_username": {
          "name": "moderator_username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.vip_history": {
      "name": "vip_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "month": {
          "name": "month",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "twitch_login": {
          "name": "twitch_login",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "vip_badge": {
          "name": "vip_badge",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "consecutive_months": {
          "name": "consecutive_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.bonus_type": {
      "name": "bonus_type",
      "schema": "public",
      "values": [
        "decalage-horaire",
        "implication-qualitative",
        "conseils-remarquables",
        "autre"
      ]
    },
    "public.event_category": {
      "name": "event_category",
      "schema": "public",
      "values": [
        "Spotlight",
        "Soirées communautaires",
        "Soirée Film",
        "Apéro",
        "Formation",
        "Jeux communautaire",
        "Ateliers créateurs",
        "Aventura 2025",
        "Organisation Aventura 2026"
      ]
    },
    "public.member_role": {
      "name": "member_role",
      "schema": "public",
      "values": [
        "Affilié",
        "Développement",
        "Modérateur Junior",
        "Mentor",
        "Admin",
        "Admin Adjoint",
        "Créateur Junior",
        "Communauté"
      ]
    },
    "public.spotlight_status": {
      "name": "spotlight_status",
      "schema": "public",
      "values": [
        "active",
        "completed",
        "cancelled"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}